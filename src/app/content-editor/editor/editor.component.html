<app-tooltip (operation)="onTooltipSelection($event)"></app-tooltip>
<div class="full-div" (mouseup)="onMouseUp()" (mousedown)="onMouseDown()">
  <div
    class="uk-container uk-container-small uk-margin-auto uk-margin-auto-vertical uk-width-4-5@s uk-width-3-5@m"
  >
    <ng-container *ngIf="!isLogged()">
      <div class="uk-alert-warning" uk-alert>
        <a href class="uk-alert-close" uk-close></a>
        <p>
          The editor is currently in trial mode. Please register to publish your
          posts
        </p>
      </div>
    </ng-container>
    <ng-container *ngIf="sessionEnded">
      <div class="uk-alert-danger alert" uk-alert>
        <p>
          Your session has expired. You will be redirected to the login page
        </p>
      </div>
    </ng-container>
    <article id="editor-container" class="uk-article editor">
      <!-- Title -->
      <h1 class="title">{{ postTitle }}</h1>
      <ng-container #container></ng-container>
    </article>
    <ng-container *ngIf="publishSuccess">
      <div class="uk-alert-success" uk-alert>
        <p>Your post has been successfully updated</p>
      </div>
    </ng-container>
    <ng-container *ngIf="serverError">
      <div class="uk-alert-danger" uk-alert>
        <p>Something went wrong. Please try again later</p>
      </div>
    </ng-container>
    <ng-container *ngIf="isLogged()">
      <div class="uk-clearfix">
        <div class="uk-float-right">
          <button class="uk-button uk-button-secondary" (click)="save()">
            Save
          </button>
          <ng-container *ngIf="postHidden">
            <button class="uk-button uk-button-primary" (click)="save(false)">
              Publish
            </button>
          </ng-container>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="!isLogged()">
      <div class="uk-clearfix">
        <div class="uk-float-right">
          <button class="uk-button uk-button-primary" (click)="toSignUp()">
            Join Now
          </button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
